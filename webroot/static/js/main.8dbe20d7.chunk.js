(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{178:function(e,t,n){e.exports=n(332)},332:function(e,t,n){"use strict";n.r(t);n(179);var r,a=n(0),c=n.n(a),u=n(27),o=n.n(u),i=n(56),s=n(72),l={services:[]},d=Object(s.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return"LOAD_SERVICES"===t.type?{services:t.payload}:e})),f=n(345),p=n(16),v=n.n(p),b=n(18),m={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},h={deleteService:function(e){return fetch("/service",{method:"delete",headers:m,body:JSON.stringify({url:e})})},editService:function(e,t){return fetch("/service",{method:"put",headers:m,body:JSON.stringify({url:t,oldUrl:e})})},createService:function(e){return fetch("/service",{method:"post",headers:m,body:JSON.stringify({url:e})})},getServices:function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/service",{method:"get",headers:m});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},O=n(156),j=Object(O.a)((function(e){return e.services}),(function(e){return e})),S=function(){var e=Object(i.b)(),t=Object(i.c)(j);return{createService:Object(a.useCallback)(function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.createService(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),deleteService:Object(a.useCallback)(function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteService(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),editService:Object(a.useCallback)(function(){var e=Object(b.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.editService(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),loadServices:Object(a.useCallback)(Object(b.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getServices();case 2:n=t.sent,e({type:"LOAD_SERVICES",payload:n});case 4:case"end":return t.stop()}}),t)}))),[e]),services:t}},E=n(20),w=n(19);!function(e){e.OK="OK",e.UNKNOWN="UNKNOWN",e.FAIL="FAIL"}(r||(r={}));var x,y=n(346),k=n(333),g=n(343),C=n(341),N=function(e){try{return new URL(e),!0}catch(t){return!1}},I=function(e){var t=e.name,n=e.onCancel,r=Object(a.useState)(""),u=Object(E.a)(r,2),o=u[0],i=u[1],s=Object(a.useState)(t),l=Object(E.a)(s,2),d=l[0],f=l[1],p=Object(a.useState)(!1),m=Object(E.a)(p,2),h=m[0],O=m[1],j=S(),w=j.loadServices,x=j.editService,y=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N(d)){e.next=10;break}return O(!0),e.next=4,x(t,d);case 4:return e.next=6,w();case 6:f(""),O(!1),e.next=11;break;case 10:i("Invalid URL");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(g.a,{style:{color:"red"},content:o,open:!!o,position:"top left",trigger:c.a.createElement(C.a,{error:!!o,value:d,onChange:function(e){i(""),f(e.target.value)},style:{width:"100%"},placeholder:"http://service.com",action:c.a.createElement(k.a.Group,null,c.a.createElement(k.a,{loading:h,disabled:!d||t===d,onClick:y},"Save"),c.a.createElement(k.a,{onClick:n},"Cancel"))})})},A=(x={},Object(w.a)(x,r.OK,"green"),Object(w.a)(x,r.FAIL,"red"),Object(w.a)(x,r.UNKNOWN,"blue"),x),L=function(e){var t=e.status,n=e.name,r=S(),u=r.deleteService,o=r.loadServices,i=Object(a.useState)(!1),s=Object(E.a)(i,2),l=s[0],d=s[1],f=Object(a.useState)(!1),p=Object(E.a)(f,2),m=p[0],h=p[1],O=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure?")){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,u(n);case 6:return h(!1),e.next=9,o();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(y.a,{verticalAlign:"middle",columns:"equal",padded:!0,stackable:!0},c.a.createElement(y.a.Column,{color:A[t]},c.a.createElement("p",{style:{textAlign:"center"}},t)),c.a.createElement(y.a.Column,{width:"11"},l?c.a.createElement(I,{name:n,onCancel:function(){d(!1)}}):c.a.createElement("p",null,n)),c.a.createElement(y.a.Column,null,c.a.createElement(k.a.Group,null,c.a.createElement(k.a,{onClick:function(){d(!0)},disabled:l||m},"Edit"),c.a.createElement(k.a,{onClick:O,disabled:m},"Delete"))))},U=function(){var e=S(),t=e.services,n=e.loadServices;return Object(a.useEffect)((function(){n();var e=setInterval((function(){n()}),3e4);return function(){clearInterval(e)}}),[n]),c.a.createElement(f.a,{relaxed:!0,divided:!0},t.map((function(e){return c.a.createElement(f.a.Item,{key:e.name},c.a.createElement(L,{name:e.name,status:e.status}))})))},K=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),o=Object(E.a)(u,2),i=o[0],s=o[1],l=Object(a.useState)(!1),d=Object(E.a)(l,2),f=d[0],p=d[1],m=S(),h=m.loadServices,O=m.createService,j=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N(i)){e.next=10;break}return p(!0),e.next=4,O(i);case 4:return e.next=6,h();case 6:s(""),p(!1),e.next=11;break;case 10:r("Invalid Url");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(g.a,{style:{color:"red"},content:n,open:!!n,position:"top left",trigger:c.a.createElement(C.a,{error:!!n,value:i,onChange:function(e){r(""),s(e.target.value)},style:{width:"100%"},placeholder:"http://service.com",action:c.a.createElement(k.a,{attached:!0,loading:f,disabled:!i,onClick:j},"Save")})})},J=n(342);var W=function(){return c.a.createElement(i.a,{store:d},c.a.createElement(J.a,{style:{paddingTop:100}},c.a.createElement(K,null),c.a.createElement(U,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.8dbe20d7.chunk.js.map